<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spacetime Curvature Animation</title>
    <style>
        canvas {
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <h1>Spacetime Curvature Animation</h1>
    <button onclick="startAnimation()">Play</button>
    <input type="range" id="massSlider" min="1" max="10" value="1" oninput="updateMass()" style="width: 300px;">
    <canvas id="animationCanvas" width="800" height="600"></canvas>

    <script>
        const canvas = document.getElementById('animationCanvas');
        const ctx = canvas.getContext('2d');
        const massSlider = document.getElementById('massSlider');

        let hypotheticalMass = parseInt(massSlider.value);

        const sun = { x: canvas.width / 2, y: canvas.height / 2, radius: 50, color: 'yellow' };
        const earth = { x: sun.x + 200, y: sun.y, radius: 20, color: 'blue', angle: 0 };

        let animation;

        function drawSun() {
            ctx.beginPath();
            ctx.arc(sun.x, sun.y, sun.radius, 0, Math.PI * 2);
            ctx.fillStyle = sun.color;
            ctx.fill();
            ctx.closePath();
        }

        function drawEarth() {
            ctx.beginPath();
            ctx.arc(earth.x, earth.y, earth.radius, 0, Math.PI * 2);
            ctx.fillStyle = earth.color;
            ctx.fill();
            ctx.closePath();
        }

        function updateEarthPosition() {
            earth.angle += 0.01;
            const semiMajorAxis = 200;
            const semiMinorAxis = 150;
            earth.x = sun.x + semiMajorAxis * Math.cos(earth.angle);
            earth.y = sun.y + semiMinorAxis * Math.sin(earth.angle);
        }

        function drawOrbitPath() {
            ctx.beginPath();
            ctx.ellipse(sun.x, sun.y, 200, 150, 0, 0, Math.PI * 2);
            ctx.strokeStyle = 'rgba(128, 128, 128, 0.5)';
            ctx.stroke();
            ctx.closePath();
        }

        function drawSpacetimeCurvature() {
            ctx.strokeStyle = 'rgba(0, 0, 255, 0.1)';
            const radialLines = 100;
            const maxStretch = 300 * hypotheticalMass;
            for (let i = 0; i < radialLines; i++) {
                const angle = i * 2 * Math.PI / radialLines;
                const startX = sun.x + sun.radius * Math.cos(angle);
                const startY = sun.y + sun.radius * Math.sin(angle);
                const endX = sun.x + (sun.radius + maxStretch) * Math.cos(angle);
                const endY = sun.y + (sun.radius + maxStretch) * Math.sin(angle);
                ctx.beginPath();
                ctx.moveTo(startX, startY);
                ctx.lineTo(endX, endY);
                ctx.stroke();
                ctx.closePath();
            }
        }

                function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            drawSpacetimeCurvature();
            drawSun();
            drawEarth();
            drawOrbitPath();

            updateEarthPosition();
        }

        function startAnimation() {
            if (animation) {
                clearInterval(animation);
            }
            animation = setInterval(draw, 1000 / 60);
        }

        function updateMass() {
            hypotheticalMass = parseInt(massSlider.value);
        }
    </script>
</body>
</html>

